{{- $pageContext := . -}}
{{- if .context -}}
  {{- $pageContext = .context -}}
{{- end -}}

<div class="footer-wrapper">
    <div class="footer-container">
        <ul class="footer-links">
            <li><a href="/about">关于</a></li>
            <li><a href="https://yuyu.aivora.cn" target="_blank" rel="noopener">个人主页</a></li>
            <li><a href="https://news.aivora.cn" target="_blank" rel="noopener">AI 日报</a></li>
            <li><a href="{{ "/" | relLangURL }}">日报首页</a></li>
            <li><a href="{{ "/tags" | relLangURL }}">标签</a></li>
            {{- $pages := slice
                (dict "id" "contact" "title" "联系我们")
                (dict "id" "privacy-policy" "title" "隐私政策")
                (dict "id" "terms-of-service" "title" "服务条款")
            -}}

            {{- /* 遍历列表，给当前字典命名为 $page_dict */ -}}
            {{- range $page_dict := $pages }}
                {{- $path := path.Join $pageContext.Language.Lang $page_dict.id -}}

                {{- /* 仅用 with 检查页面是否存在并获取链接，但不使用其标题 */ -}}
                {{- with site.GetPage $path -}}
                    <li><a href="{{ .RelPermalink }}">{{ $page_dict.title }}</a></li>
                {{- end -}}
            {{- end -}}
        </ul>

        <div class="footer-copyright">
            {{- $copyright := printf "© %d %s" now.Year site.Title -}}
            <a href="{{ "" | relLangURL }}">{{ $copyright | safeHTML }}</a>
        </div>
    </div>
</div>

{{- /* 51la 数据挂件 */ -}}
{{- if site.Params.la51Id -}}
<div style="max-width: 900px; margin: 1rem auto 2rem; padding: 0 1rem; text-align: center;">
    <script id="LA-DATA-WIDGET" crossorigin="anonymous" charset="UTF-8" src="https://v6-widget.51.la/v6/{{- site.Params.la51Id | safeJS -}}/quote.js?theme=0&f=12"></script>
</div>
{{- end -}}
